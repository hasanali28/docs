---
title: "Verify Payment Signature"
description: "Validate the payment gateway signature after the customer completes checkout."
openapi: "POST /api/payments/verify-payment"
---

## Overview
After the client SDK confirms a payment, call this endpoint to verify the signature returned by the provider. Nexus checks the gateway signature, updates the user’s credit balance, and issues a success message you can show in the UI.

## Request
<ParamField header="Authorization" type="string" required>
Bearer token for the paying workspace account.
</ParamField>

<ParamField header="Content-Type" type="string" required default="application/json">
Payload format.
</ParamField>

<ParamField body="razorpay_payment_id" type="string" required>
Payment identifier supplied by the gateway.
</ParamField>

<ParamField body="razorpay_order_id" type="string" required>
Order identifier created earlier via `POST /api/payments/create-order`.
</ParamField>

<ParamField body="razorpay_signature" type="string" required>
Signature header from the provider used to confirm authenticity.
</ParamField>

<ParamField body="amount" type="integer" required>
Amount that was authorised, in the smallest currency unit.
</ParamField>

<ParamField body="userId" type="string" required>
User whose balance should be updated.
</ParamField>

<ParamField body="email" type="string" required>
Email recorded for the order.
</ParamField>

<RequestExample>
```bash cURL
curl --location '{{baseUrl}}/api/payments/verify-payment' \
  --header 'Authorization: Bearer {{authToken}}' \
  --header 'Content-Type: application/json' \
  --data '{
    "razorpay_payment_id": "pay_LMN1234567890",
    "razorpay_order_id": "order_LMN1234567890",
    "razorpay_signature": "b14ca5898a4e4133bbce2ea2315a1916",
    "userId": "64e5f12345abcdef12345678",
    "email": "customer@company.com",
    "amount": 5000
  }'
```
</RequestExample>

## Response
<ResponseExample>
```json 200 OK
{
  "success": true,
  "message": "Payment verified"
}
```
</ResponseExample>

<ResponseField name="success" type="boolean" required>
Indicates whether the signature matched and credits were provisioned.
</ResponseField>
<ResponseField name="message" type="string" required>
Status message suitable for displaying to the user.
</ResponseField>

## Error Handling
- **400 Bad Request** – Signature fields missing or malformed.
- **401 Unauthorized** – Bearer token missing or expired.
- **402 Payment Required** – Optional business rule: expose if the gateway marks the payment as failed.
- **500 Internal Server Error** – Verification service unavailable; retry and contact support if repeated.

<Warning>
Only mark orders as paid after this verification succeeds; relying solely on client-side callbacks risks fraudulent confirmations.
</Warning>
