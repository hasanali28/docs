---
title: "Plivo Outbound Webhook"
description: "Handle Plivo callbacks for outbound calls triggered from Nexus."
openapi: "POST /api/call/plivo/receive-outbound-call"
---

## Overview
Nexus relies on this webhook to receive lifecycle events from Plivo while a campaign is running. When Plivo calls the webhook, Nexus updates call analytics, streams audio if requested, and finalises billing once the call ends.

## Prerequisites
- Configure Plivo to point outbound webhooks to this endpoint.
- Supply the query parameters (`flow_id`, `call_uid`, `auth_token`, `acc_sid`) exactly as Nexus issues them when creating the call.

## Supported Events
<CardGroup cols={2}>
<Card title="StartApp" icon="phone">
Initial callback when Plivo connects the call. Nexus starts streaming audio, increments `callsPicked`, and can respond with XML to open a WebSocket stream.
</Card>
<Card title="Hangup" icon="square-x">
Delivered when the call ends. Nexus computes final cost, duration, and updates `callsCompleted` before emitting analytics to the dashboard.
</Card>
</CardGroup>

## Request
<ParamField query="flow_id" type="string" required>
Nexus agent or flow handling the call.
</ParamField>
<ParamField query="call_uid" type="string" required>
Internal call identifier generated when the dialer queued the call.
</ParamField>
<ParamField query="auth_token" type="string" required>
Plivo auth token provided for validation.
</ParamField>
<ParamField query="acc_sid" type="string" required>
Plivo account SID associated with the webhook.
</ParamField>

<ParamField formData="From" type="string" required>
Number placing the call.
</ParamField>
<ParamField formData="To" type="string" required>
Customer number receiving the call.
</ParamField>
<ParamField formData="CallUUID" type="string" required>
Unique Plivo call identifier.
</ParamField>
<ParamField formData="Event" type="string" required>
Current lifecycle event (`StartApp`, `Hangup`, etc.).
</ParamField>
<ParamField formData="CallStatus" type="string">
Latest Plivo status (`ringing`, `in-progress`, `completed`).
</ParamField>
<ParamField formData="Duration" type="string">
Call duration in seconds when known (provided on `Hangup`).
</ParamField>

<RequestExample>
```bash cURL
curl --location '{{baseUrl}}/api/call/plivo/receive-outbound-call' \
  --header 'Content-Type: application/x-www-form-urlencoded' \
  --data-urlencode 'From=+15551234567' \
  --data-urlencode 'To=+15559876543' \
  --data-urlencode 'CallUUID=abcd1234-5678-efgh-9012' \
  --data-urlencode 'Event=Hangup' \
  --data-urlencode 'Duration=83' \
  --get --data-urlencode 'flow_id=64e5f12345abcdef11223344' \
  --data-urlencode 'call_uid=64e5f12345abcdef55667788' \
  --data-urlencode 'auth_token=plivo-auth-token' \
  --data-urlencode 'acc_sid=plivo-account-sid'
```
</RequestExample>

## Response
<ResponseExample>
```json 200 OK
{
  "success": true,
  "message": "Call updated successfully",
  "callCost": 16
}
```
</ResponseExample>

<ResponseField name="callCost" type="number">
Present on hangup events when the call cost calculation completed.
</ResponseField>

<Info>
For `StartApp` events Nexus may return XML such as `<Stream>` directives so Plivo can mirror audio over WebSocket.
</Info>

## Error Handling
- **400 Bad Request** – Required query parameters or form fields missing.
- **404 Not Found** – The referenced call or batch no longer exists.
- **500 Internal Server Error** – Nexus failed to process the webhook; Plivo should retry according to its policy.
